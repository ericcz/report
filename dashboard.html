<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" charset="UTF-8">
<title>DashBoard 3.0</title>
<link rel="stylesheet" href="include/css/bootstrap.css">
<link rel="stylesheet" href="include/css/bootstrap-datetimepicker.css">
<style>
body {padding:0px;background-color:#ccc;}
ul,li {list-style:none}
.sect {position:absolute;height:100%;font:18px/1.5em 'Microsoft YaHei';}
.sect-nav {width:200px;background-color:#111;min-width:200px}
.sect-body {margin-left:0%;width:100%;background-color:#ccc;padding:60px 20px 20px 20px}
.sect-rp {border-radius:4px;background:white;box-shadow:0 0 8px #222; font:16px/1.5em 'Microsoft YaHei';}
.dv-title {width:100%;height:35px;background-color:#eee;padding:8px 10px 0px 10px;}
.dv-register {padding:10px;float:left;margin:1px;background-color:#e06;color:#fff;width:49.36%;height:130px;}
.th {cursor:pointer;}
.nav-link {color:#ddd;}
a.nav-link:hover {color:#111;}
.conv-show {font-size:12px;line-height:14px}

.font1 {font:80px/1.5em 'Microsoft YaHei';}
.font2 {font:60px/1.5em 'Microsoft YaHei';}
.font3 {font:40px/1.5em 'Microsoft YaHei';}
.font4 {font:30px/1.5em 'Microsoft YaHei';}
.font5 {font:20px/1.5em 'Microsoft YaHei';}
.font6 {font:12px/1.5em 'Microsoft YaHei';}
.fontWhite {color:#fff;}
.fontBlue {color:#00BFFF;}
.fontCoffee {color:#D2691E;}
.fontCyan {color:#008B8B;}
</style>
<script src="include/js/jquery-3.0.0.min.js"></script>
<script src="include/js/bootstrap.min.js"></script>
<script src="include/js/bootstrap-datetimepicker.js"></script>
<script src="include/js/highcharts.js"></script>
<script src="include/js/jquery.bootstrap.newsbox.min.js"></script>
<script src="include/js/funnel.js"></script>
<script src="include/js/inewsticker.js" ></script>
<script src="include/js/echarts.min.js" ></script>
<script type="text/javascript">
function highChart_lineBasic(cData,cTitle,content,xRay){
	var chart;
	var options = {
			chart: {
				renderTo: content,
				defaultSeriesType: 'line',
				marginRight: 110,
				marginBottom: 25
			},
			title: {
				text: cTitle,
				x: -20 
			},
			subtitle: {
				text: '',
				x: -20
			},
			xAxis: {
				categories: xRay
			},
			yAxis: {
				title: {
					text: ''
				},
			plotLines: [{
				value: 0,
				width: 1,
				color: '#808080'
			}]
			},
			tooltip: {
				formatter: function() {
						return '<b>'+ this.series.name +'</b>'+
						this.x +': '+ this.y +'';
				}},
			legend: {
				layout: 'vertical',
				align: 'right',
				verticalAlign: 'top',
				x: -10,
				y: 100,
				borderWidth: 0
			},
			series:[]
		};
		var v,arr=new Array(),a=new Array();
		for (var i=0;i<cData.split(';').length;i++){
			arr=cData.split(';')[i].split(',');
			v=arr[0];
			arr.shift();
			for(var j=0;j<arr.length;j++){
				a[j]=parseInt(arr[j]);
			}
			options.series.push({name:v,data:a});
			a=[]
		}
		chart = new Highcharts.Chart(options);
}
function highChart_funnel(cData,cTitle,content){
	var chart;
	var options = {
	chart: {
			renderTo: content,
            type: 'funnel',
            marginRight: 100
        },
        title: {
            text: cTitle,
            x: -50
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b> ({point.y:,.0f})',
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                    softConnector: true
                },
                neckWidth: '30%',
                neckHeight: '25%'
            }
        },
        legend: {
            enabled: false
        },
        series: cData
    }
	chart = new Highcharts.Chart(options);
}
function eCharts_funnel(cData,cTitle,content){
	var myChart = echarts.init(document.getElementById("dvFunnel"));
	var option = {
		title: {
			text: cTitle,
			subtext: ''},
		color:[ '#90EE90','#F0E68C',  '  #DDA0DD ', ' #00CED1 ','#6e7074', '#546570', '#c4ccd3'],
		tooltip: {
			trigger: 'item',
			formatter: "{b} : {c}%"},
		toolbox:{
			feature: {
				//dataView: {readOnly: false},
				restore: {},
				saveAsImage: {}
			}
		},
		legend: {
			data: []
		},
		calculable: true,
		series: [
			{
            name:'漏斗图',
            type:'funnel',
            left: '10%',
            top: 50,
            //x2: 80,
            bottom: 60,
            width: '80%',
			height:'60%',
            //height: {totalHeight} - y - y2,
            min: 0,
            max: 100,
            minSize: '0%',
            maxSize: '100%',
            sort: 'descending',
            gap: 2,
			funnelAlign:'center',
            label: {
                normal: {
                    show: true,
                    position: 'outside'},
                emphasis: {
                    textStyle:{fontSize:20}
                }
            },
            labelLine: {
                normal: {
                    length: 10,
                    lineStyle: {
                        width: 1,
                        type: 'solid'}
                }
            },
            itemStyle: {
                normal: {
                    borderColor: '#fff',
                    borderWidth: 1
                }
            },
            data: cData
        }]
     };
	myChart.setOption(option);
}
function createXMLHttpRequest(url,dv){
	xmlhttp=""
	if(window.ActiveXObject){
		try{
		xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
		}catch(e){
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}}
		else if(window.XMLHttpRequest){
			xmlhttp = new XMLHttpRequest();
				if (xmlhttp.overrideMimeType){ xmlhttp.overrideMimeType("text/xml");}
		}
		if(!xmlhttp){ window.alert("Do not support XMLHttpRequest!");}
		xmlhttp.onreadystatechange=XHRChanged;
		xmlhttp.open("POST", url,false);
		xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		xmlhttp.send(dv);
}
function XHRChanged(){	//handle return value xmlhttp.responseText
	if (xmlhttp.readyState==4){
		getBack(xmlhttp.responseText);}
}
$.isInfinity = function(arrVal){
	var val=(isNaN(arrVal)||arrVal=='Infinity'||arrVal=='undefined')?0:arrVal;
	return val;
}
$.getSymbol = function(val1,val2){
	var symb="";
	if (parseInt(val1)>parseInt(val2)){
		symb='<span style="color:#fff;">+</span>';
	}else
		symb='<span></span>';
	return symb;
}
$.getDownload = function(arrVal,totalVal){
	var val="";
	dsc=$.getSymbol(arrVal[arrVal.length-1],arrVal[arrVal.length-2])
	val=arrVal[arrVal.length-1];
	val+="<span class=font5>&nbsp;&nbsp;"+dsc+$.isInfinity(Math.round((arrVal[arrVal.length-1]-arrVal[arrVal.length-2])/arrVal[arrVal.length-2]*10000)/100)+"%</span><br>"
	val+="<div class='font5 fontWhite' style='padding:5px;width:100%;text-align:right;margin-top:-15px'>总下载数："+totalVal+"</div>";
	return val;
}
$.getActive = function(arrVal){
	var val="";
	dsc=$.getSymbol(arrVal[arrVal.length-1],arrVal[arrVal.length-2])
	val="<span>"+arrVal[arrVal.length-1]+"</span>"
	val+="<br><div class='font4 fontWhite' style='padding:5px;width:100%;text-align:right;margin-top:-30px'>"+dsc+$.isInfinity(Math.round((arrVal[arrVal.length-1]-arrVal[arrVal.length-2])/arrVal[arrVal.length-2]*10000)/100)+"%</div>"
	return val;
}
$.getRegist = function(arrVal){
	var val="";
	dsc=$.getSymbol(arrVal[arrVal.length-1],arrVal[arrVal.length-2])
	val=$.isInfinity(arrVal[arrVal.length-2])
	val+="<br><div class='font4 fontWhite' style='padding:5px;width:100%;text-align:right;margin-top:-30px'>"+dsc+$.isInfinity(Math.round((arrVal[arrVal.length-2]-arrVal[arrVal.length-3])/arrVal[arrVal.length-3]*10000)/100)+"%</div>"
	return val;
}
function getBack(vchReturn){
try{
	var vf=vchReturn.split("##")[1]
	if (vf=='getDashBoard'){
		var rt,dsc
		//	下载
		rt=vchReturn.split("##")[2].split("$$")[2].split(",");
		$(".dv-down").html($.getDownload(rt,vchReturn.split("##")[2].split("$$")[3]));

		//	活跃
		rt=vchReturn.split("##")[4].split("$$")[2].split(",");
		$(".dv-act").html($.getActive(rt));

		//	昨日注册
		rt=vchReturn.split("##")[3].split("$$")[2].split(",");
		$(".dv-reg-y").html($.getRegist(rt))
		
		//	注册用户
		rt=vchReturn.split("##")[3].split("$$")[2].split(",");
		$(".dv-register-l1").html("<br>"+rt[rt.length-1]);
		$(".dv-register-l2").html("<br>"+vchReturn.split('##')[3].split('$$')[3]);
		//	近期注册图表
		var chartDt= new Array
		var avg=0;
		chartDt=vchReturn.split("##")[3].split("$$")[1].split(",");
		chartDt.pop();
		var chartData=vchReturn.split("##")[3].split("$$")[2].split(",");
		for (i=0;i<7;i++){
			avg+=parseInt(chartData[i]);
		}
		chartData.unshift(" ");
		chartData.pop();
		chartData=chartData.join(",");
		highChart_lineBasic(chartData,"","dv-reg2",chartDt);
		
		$(".dv-register-r1").html("<br>"+$.isInfinity(Math.round(avg/7)))
		//	留存率
		rt=vchReturn.split("##")[5].split("$$");
		$(".td-lv-d").html(rt[1]+'%');
		rt=vchReturn.split("##")[6].split("$$");
		$(".td-lv-w").html(rt[1]+'%');
		rt=vchReturn.split("##")[7].split("$$");
		$(".td-lv-m").html(rt[1]+'%');

		//	pv
		rt=vchReturn.split("##")[8].split("$$")[2].split(",");
		dsc=$.getSymbol(rt[rt.length-1],rt[rt.length-2])
		$(".dv-pv1").html(rt[1]);
		$(".dv-pv2").html(dsc+$.isInfinity(Math.round((rt[rt.length-1]-rt[rt.length-2])/rt[rt.length-2]*10000)/100)+"%");
		
		//	uv
		rt=vchReturn.split("##")[9].split("$$")[2].split(",");
		dsc=$.getSymbol(rt[rt.length-1],rt[rt.length-2])
		$(".dv-uv1").html(rt[1]);
		$(".dv-uv2").html(dsc+$.isInfinity(Math.round((rt[rt.length-1]-rt[rt.length-2])/rt[rt.length-2]*10000)/100)+"%");
		
		//	Talkingdata pv uv
		rt=vchReturn.split("##")[11].split("$$");
		$(".td-pv").html(rt[1]);
		$(".td-uv").html(rt[2]);
		
		//	日活区域分布
		rt=vchReturn.split("##")[10].split("$$");
		$(".ul-loc").html(rt[1]);
		$('.ul-loc').inewsticker({
		speed       : 3000,
		effect      : 'slide',
		dir         : 'ltr',
		font_size   : 28,
		color       : '##D2691E',
		font_family : 'arial',
		delay_after : 2000						
		});
		/*
		$(".ul-loc").bootstrapNews({
		newsPerPage: 1,
		autoplay: true,
		pauseOnHover:true,
		direction: 'down',
		newsTickerInterval: 4000,
		navigation: false,
		onToDo: function (){
			//console.log(this);
			}
		});*/
	}else if(vf=='getFunnel'){	//漏斗图
		var cData="";
		var arrFunnelTitle= new Array
		var arrFunnelData= new Array
		arrFunnelTitle=vchReturn.split("##")[2].split(",");
		arrFunnelData=vchReturn.split("##")[3].split(",");
		for(i=0;i<arrFunnelTitle.length-1;i++){
			cData+='{"name":"'+arrFunnelTitle[i]+'","value":'+Math.round(arrFunnelData[i]/arrFunnelData[0]*100)+"},"
		}
		cData=eval("(["+cData.substring(0,cData.length-1)+"])")
		content = "dvFunnel";
		eCharts_funnel(cData,'',content);
		$(".conv-tab").html(vchReturn.split("##")[4])
	}else if(vf=='getDetail'||vf=='getDetailWheel'){
		$(".tab").html(vchReturn.split("##")[2]);
		var v=$(".hid-pr").val();
		if(v.substr(0,4)!="left" && v!="point" && v!="time" && v!="interval" && v!="wheel"){
			var pr=0;
			var amount="";
			for (i=0;i<7;i++){
				pr=0
				$(".col"+i).each(function(){
					pr+=parseInt($(this).html());
				});
				amount+="<td>"+pr+"</td>"
			}
			amount="<tr><td style='width:10%'>合计</td>"+amount+"</table>"
			$(".tab").html($(".tab").html().replace('</table>',amount));
		}
		if(v=="interval"){
			var pr=0,total=0;
			var amount="";
			for (i=0;i<7;i++){
				pr=0;
				total=0;
				$(".col"+i).each(function(index){
					pr+=parseInt($(this).html());
					total+=parseInt($(this).html())*parseInt($(".tr"+index).attr('type'));
				});
				if (pr>0){
				pr=Math.round((total/pr)*100)/100;}
				amount+="<td>"+pr+"</td>"
			}
			amount="<tr><td style='width:10%'>平均时长(秒)</td>"+amount+"</table>"
			$(".tab").html($(".tab").html().replace('</table>',amount));
		}
		if (v=="pv"||v=="uv"){
			var chartDt= new Array
			chartDt=vchReturn.split("##")[3].split(",");
			var chartData=vchReturn.split("##")[4];
			highChart_lineBasic(chartData.substring(0,chartData.length-1),"","chart",chartDt);
			$("#chart").show()
		}
		if(v=="loc" || v=="time"){
			$(".tab").css("overflow","scroll").css("overflow-x","hidden").css("height","450px")
		}
		$(".dv-ext").show();
		$(".dv-ext-in").show();
		$(".th").click(function(){
			var arr,vJason="",dc=""
			arr=$(".tbody").html().split("<tr");
			$(".col"+$(this).attr('type')).each(function(index){
				vJason+='{"val":'+parseInt($(this).html())+',"id":'+(index+1)+'},';
			});	
			vJason=vJason.substr(0,vJason.length-1)
			vJason=eval("(["+vJason+"])")
			vJason.sort(function(a,b){
				return b.val - a.val;
			});
			for(i=0;i<vJason.length;i++){
				dc+= "<tr"+arr[vJason[i].id]
			}
			$(".tbody").html(dc)
		})
		switch(v){
			case 'down':
				$(".title").html("下载渠道");
				break;
			case 'reg':
				$(".title").html("注册来源");
				break;
			case 'lively':
				$(".title").html("活跃渠道");
				break;
			case 'pv':
				$(".title").html("PV版块");
				break;
			case 'uv':
				$(".title").html("UV版块");
				break;
			case 'leftD':
				$(".title").html("日留存");
				break;
			case 'leftW':
				$(".title").html("周留存");
				break;
			case 'leftM':
				$(".title").html("月留存");
				break;
			case 'time':
				$(".title").html("APP使用时点");
				break;
			case 'launch':
				$(".title").html("APP启动");
				break;
			case 'interval':
				$(".title").html("APP使用时长");
				break;
			case 'point':
				$(".title").html("积分范围");
				break;
			case 'wheel':
				$(".title").html("大转盘日期");
				$(".cale").css('display','none')
				$(".tab").css('margin-top','60px')
				break;
		}
	}else
		alert("System Error!")
		}catch(e){ alert(e);}
}
$(document).ready(function(){
	setTimeout(function(){
	url="dashboardGet.php?pid="+escape(document.cookie.split('#')[0])+"&obj="+escape("getDashBoard");
	createXMLHttpRequest(url,"fresh=" +Math.random());
	},300);
	
	$(".tr-lv").click(function(){
		$(".hid-pr").val($(this).attr("type"));
		var v
		if ($(this).attr("type")=="wheel"){
			v="getDetailWheel";
		}else
			v="getDetail";
		url="dashboardGet.php?pid="+escape(document.cookie.split('#')[0])+"&obj="+escape(v)+"&dt="+escape($('#iph-d-start').val())+"&typ="+escape($(this).attr("type"));
		createXMLHttpRequest(url,"fresh=" +Math.random());
		scroll(0,0);
	})
	$('.tab-show').click(function(){
		$(".hid-pr").val($(this).attr("type"));
		url="dashboardGet.php?pid="+escape(document.cookie.split('#')[0])+"&obj="+escape("getDetail")+"&dt="+escape($('#iph-d-start').val())+"&typ="+escape($(".hid-pr").val());
		createXMLHttpRequest(url,"fresh=" +Math.random());
		scroll(0,0);
	})
	$('.bt-exec').click(function(){
		if($(".hid-pr").val()=="wheel"){
			return false;
		}
		url="dashboardGet.php?pid="+escape(document.cookie.split('#')[0])+"&obj="+escape("getDetail")+"&dt="+escape($('#iph-d-start').val())+"&typ="+escape($(".hid-pr").val());
		createXMLHttpRequest(url,"fresh=" +Math.random());
	})
	$('.tab-close').click(function(){
		$(".dv-ext").hide();
		$(".dv-ext-in").hide();
		$('#ip-d-start').val(vdt)
		$('#iph-d-start').val(vdt)
		$("#chart").hide();
		$(".tab").css("overflow","auto").css("height","").css("margin-top","-20px");
		$(".cale").css("display","block")
	})
	$(".btn-nav").click(function(){
		if($(".btn-nav .glyphicon").hasClass("glyphicon-chevron-left")){
			$(".sect-nav").css("margin-left","-200px");
			//$(".sect-body").css("margin-left","0px").css("width","100%");
			$(".btn-nav").css("margin-left","0").html('<span class="glyphicon glyphicon-chevron-right"></span>');
		}else{
			$(".sect-nav").css("margin-left","0");
			//$(".sect-body").css("margin-left","200px").css("width","80%");
			$(".btn-nav").css("margin-left","200px").html('<span class="glyphicon glyphicon-chevron-left"></span>');
			$(".sect-nav").css('margin-top',document.body.scrollTop)

		}
	})
	$(".conv").click(function(){
		$("#collapseOne").toggle();
		if ($(".conv-icon").hasClass("glyphicon-chevron-left")){
			$(".conv-icon").removeClass("glyphicon-chevron-left").addClass("glyphicon-chevron-down")
		}else
			$(".conv-icon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-left")
	})
	$(".conv-show").click(function(){
		url="dashboardGet.php?pid="+escape(document.cookie.split('#')[0])+"&obj="+escape("getFunnel")+"&dt="+escape($('#iph-d-start').val())+"&sid="+escape($(this).attr('data-type'));
		createXMLHttpRequest(url,"fresh=" +Math.random());
	})
	window.onscroll = function(){
		//$(".btn-nav").css('margin-top',document.body.scrollTop)
		$(".sect-nav").css("margin-left","-200px");
		$(".sect-body").css("margin-left","0").css("width","100%");
		$(".btn-nav").css("margin-left","0").html('<span class="glyphicon glyphicon-chevron-right"></span>');
	}
	$(".nav-link").click(function(){
		$(".btn-nav").click()
	})
})
</script>
</head>
<body>
<div id="container-fluid" style="">
<button type="button" class="btn btn-default btn-nav"  aria-haspopup="true" aria-expanded="false" style="position:absolute;margin-left:0%;z-index:10">
<span class="glyphicon glyphicon-chevron-right"></span>
</button>

<section class='sect sect-nav' style="float:left;z-index:11;margin-left:-200px" ><nav class="navbar" role="navigation" >
<ul class="nav nav-stacked nav-pills" style="margin-top:40px" >
<li role="presentation" class="active">
<a href="#dash" data-toggle="tab" class="nav-link"><span class="glyphicon glyphicon-dashboard"></span>&nbsp;&nbsp;数据统计</a>
</li>
<li role="presentation"><a href="#act" data-toggle="tab" class="nav-link"><span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;&nbsp;用户行为统计</a></li>
<li role="presentation"><a href="#collapseOne" data-toggle="tab" class=" conv" ><span class="glyphicon glyphicon-filter"></span>&nbsp;&nbsp;转化率<span style="margin-left:20px" class="glyphicon glyphicon-chevron-left conv-icon"></span></a>

<div id="collapseOne" class="panel-collapse collapse">
<ul class='nav' data-toggle="tab" data-parent="">
<li ><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="33" ></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;度假--支付成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="34"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;搜索--支付成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="35"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;小banner--预约成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="36"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;了解我享--预约成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="37"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;换住目的地--支付成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="38"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;人气度假屋具体项目</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="39"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;banner--支付成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="40"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;当季热门--支付成功</a></li>
<li><a href="#conv" data-toggle="tab" class="nav-link conv-show" data-type="41"></span>&nbsp;&nbsp;<span class="glyphicon glyphicon-glass"></span>&nbsp;&nbsp;加入-预约</a></li>


</ul>
</div>
</li>
</ul></nav>
</section>
<section class="sect sect-body row">
<div class="tab-content">
<!--	Area1	-->
<div class="tab-pane fade  in active" id="dash">
<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-down sect-rp" style="height:180px;background-color:#00BFFF">
<div class="dv-title">昨日下载
<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="down"></span>
</div>
<div class="dv-down font1 fontWhite" style="padding:5px;width:100%;height:50%;text-align:center;"></div>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-active sect-rp" style="height:180px;background-color:#ffcc00">
<div class="dv-title">昨日活跃
<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer;" type="lively"></span>
</div>
<div class="dv-act font1 fontWhite" style="padding:5px;width:100%;height:50%;text-align:center;"></div>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-rp" style="height:180px;background-color:#F08080">
<div class="dv-title">昨日注册
<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="reg"></span>
</div>
<div class="dv-reg-y font1 fontWhite" style="padding:5px;width:100%;height:50%;text-align:center;"></div>
</section></div>
<br>

<div class="col-xs-12 col-sm-8 col-md-5" style="padding:10px">
<section class="sect-reg sect-rp" style="height:300px;background-color:#fff;min-width:320px">
<div class="dv-title">注册用户
<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="reg"></span>
</div>
<div class="dv-register">
<div>今日</div><div class="dv-register-l1" style="font-size:80px;text-align:center;"></div>
</div>
<div class="dv-register">
<div>日均</div><div class="dv-register-r1" style="font-size:60px;text-align:center;"></div>
</div>
<div class="dv-register" style="width:99.2%;">
<div>总注册</div><div class="dv-register-l2" style="font-size:80px;text-align:center"></div>
</div>
</section></div>

<div class="col-xs-12 col-sm-12 col-md-7" style="padding:10px">
<section class="sect-rp" style="height:300px;min-width:400px">
<div class="dv-title">近期注册</div>
<div id="dv-reg2" class="dv-reg2" style="padding:10px;height:80%;text-align:right"></div>
</section></div>
</div>
<!--	Area2	-->
<div id='act' class="tab-pane fade ">
<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-pv sect-rp" style="height:185px;background-color:#FFA07A">
<div class="dv-title">版块PV<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="pv"></span>
</div>
<div class="dv-pv1 font1 fontWhite" style="padding:5px;width:100%;height:50%;text-align:center;"></div>
<div class="dv-pv2 font4 fontWhite" style="padding:5px;width:100%;height:30%;text-align:right;margin-top:5px"></div>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-uv sect-rp" style="height:185px;background-color:#3CB371">
<div class="dv-title">版块UV<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="uv"></span>
</div>
<div class="dv-uv1 font1 fontWhite" style="padding:5px;width:100%;height:50%;text-align:center;"></div>
<div class="dv-uv2 font4 fontWhite" style="padding:5px;width:100%;height:30%;text-align:right;margin-top:5px"></div>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-uv sect-rp" style="height:185px;background-color:#fff">
<div class="dv-title">活动PV&UV
</div>
<table class="table table-hover font4" style="height:80%;cursor:pointer;">
<tr class='tr-lv info' type='sp-pv'><td valign="middle">PV</td><td class='td-pv'></td></tr>
<tr class='tr-lv warning' type='sp-uv'><td>UV</td><td class='td-uv'></td></tr>
</table>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-left sect-rp" style="height:185px;background-color:#fff">
<div class="dv-title">留存率
</div>
<table class="table table-hover font5 fontCoffee" style="height:80%;cursor:pointer;">
<tr class='tr-lv info' type='leftD'><td>日留存</td><td class='td-lv-d'></td></tr>
<tr class='tr-lv warning' type='leftW'><td>周留存</td><td class='td-lv-w'></td></tr>
<tr class='tr-lv active' type='leftM'><td>月留存</td><td class='td-lv-m'></td></tr>
</table>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-area sect-rp" style="height:185px;background-color:#fff">
<div class="dv-title">日活省分布<span class="glyphicon glyphicon-th-list tab-show" aria-hidden="true" style="float:right;cursor:pointer" type="loc"></span>
</div>
<div class="panel panel-default font4 fontCyan" style="margin-top:20px;">
<div class="panel-body">
<ul class="ul-loc">
</ul>
</div></div>
</section></div>

<div class="col-xs-12 col-sm-8 col-md-4" style="padding:10px">
<section class="sect-action sect-rp" style="height:265px;background-color:#fff">
<div class="dv-title">用户行为
</div>
<table class="table table-hover font5" style="cursor:pointer;">
<tr class='tr-lv info' type='point'><td>积分范围</td><td class='td-point'></td></tr>
<tr class='tr-lv active' type='launch'><td>APP启动数</td><td class='td-launch'></td></tr>
<tr class='tr-lv warning' type='time'><td>APP时段</td><td class='td-time'></td></tr>
<tr class='tr-lv success' type='interval'><td>APP用户时长</td><td class='td-interval'></td></tr>
<tr class='tr-lv danger' type='wheel'><td>大转盘参与人数</td><td class='td-wheel'></td></tr>
</table>
</section></div>
</div>
<!--	Area3	-->
<div id='conv' class="tab-pane fade">
<section class="sect-funnel sect-rp col-xs-12 col-sm-8 col-md-6" style="padding:0px;margin-left:5%;height:560px;background-color:#fff;margin-top:-40px;min-width:500px;">
<div class="dv-title">转化率</div>
<div id="dvFunnel" class="" style="width:500px;height:300px;" ></div>
<div class="conv-tab" style="padding:5px;height:40%;position:relative;margin-top:-60px;font-size:12px;"></div>
</section>
</div>

</div><!--	tab content end	-->
</section><!--	section body end	-->
</div>

<div class="dv-ext" style='z-index:20;left:0px;top:0px;position:absolute;background-color:#666;width:100%;height:100%;filter:alpha(opacity=90);opacity:0.9;display:none;'></div>
<div class='dv-ext-in' style="z-index:25;left:0px;top:0px;position:absolute;background-color:#fff;width:99%;height:90%;top:5%; border-radius:8px;display:none;min-width:800px">
<div class="cale" style="padding:20px;width:20%">
	<div class="input-group date form_date col-md-2" data-date="" data-date-format="yyyy-mm-dd" data-link-field="iph-d-start" data-link-format="yyyy-mm-dd" >
	<input id="ip-d-start" class="form-control" size="12" type="text" value="" readonly style='width:120px' placeholder="PickDate">
	<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
	</div>
	<button type="submit" class="btn btn-info bt-exec btn-sm" id="bt-exec" style="margin-top:-54px;margin-left:165px" type=''>
	<span>Execute</span>
	</button><input type="hidden" id="iph-d-start" value="" />
</div>
<div class="tab" style="margin-top:-20px;padding:0px 20px 20px 20px;width:90%;"></div>
<div style="z-index:12;left:96%;position:absolute;top:3%;cursor:pointer">
<span class="glyphicon glyphicon-remove tab-close" aria-hidden="true" style="color:#000;"></span></div>
<div id="chart" style="margin:-40px 0px 0px 50px;width:70%;height:250px;display:none;"></div>
</div>

<input type=hidden class='hid-pr'/>
</body>
<script type="text/javascript">
	var dt = new Date();
	var dt= new Date(dt.getTime()-(1000*60*60*24));//set yesterday
	var m="0"+(dt.getMonth()+1);
	var d="0"+(dt.getDate());
	vdt=dt.getFullYear()+"-"+m.substr(m.length-2,2)+"-"+d.substr(d.length-2,2);
	$('#ip-d-start').val(vdt)
	$('#iph-d-start').val(vdt)

	$('.form_date').datetimepicker({
        language: 'en',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		minView: 2,
		forceParse: 0
    });
	$('.form_date').datetimepicker('setEndDate',vdt);
</script>
</html>